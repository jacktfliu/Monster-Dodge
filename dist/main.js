!function(){function t(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function h(t,i){for(var h=0;h<i.length;h++){var e=i[h];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function e(t,i,e){return i&&h(t.prototype,i),e&&h(t,e),t}document.addEventListener("DOMContentLoaded",(function(){var h=document.getElementById("canvas"),s=h.getContext("2d");h.width=1e3,h.heigth=600;var a=[],n=["up","right","left","down"],d=[],o=["up","right","left","down"],r=[],m=["up","right","left","down"],f=[],g=0,y=!1,x=document.getElementById("player"),w=document.getElementById("dragon"),c=document.getElementById("death-scythe"),u=document.getElementById("ifrit"),l={x:200,y:200,width:32,height:48,fx:0,fy:0,speed:5,moving:!1};function p(t,i,h,e,a,n,d,o,r){s.drawImage(t,i,h,e,a,n,d,o,r)}function M(t,i){if(!(t.x>i.x+i.width||t.x+t.width<i.x||t.y>i.y+i.height||t.y+t.height<i.y))return!0;g++}!function t(){for(s.clearRect(0,0,h.width,h.height),p(x,l.width*l.fx,l.height*l.fy,l.width,l.height,l.x,l.y,l.width,l.height),i=0;i<f.length;i++)f[i].drawDeath(),f[i].updateDeathMovement();for(i=0;i<d.length;i++)d[i].drawIfrit(),d[i].updateIfritMovement();for(i=0;i<r.length;i++)r[i].drawDragon(),r[i].updateDragonMovement();s.font="18px Arial",s.fillStyle="#black",s.fillText("Score: "+g,20,25),y&&(s.fillStyle="black",s.font="90px Orbitron",s.fillText("GAME OVER",230,300),s.fillStyle="white",s.font="40px Orbitron",s.fillText("Your Score is: "+g,345,400)),a[38]&&l.y>0?(l.y-=l.speed,l.fy=3):a[37]&&l.x>0?(l.x-=l.speed,l.fy=1):a[40]&&l.y<h.heigth-l.height?(l.y+=l.speed,l.fy=0):a[39]&&l.x<h.width-l.width&&(l.x+=l.speed,l.fy=2),l.fx<3&&l.moving?l.fx++:l.fx=0,y||requestAnimationFrame(t)}(),window.addEventListener("keydown",(function(t){a[t.keyCode]=!0,l.moving=!0})),window.addEventListener("keyup",(function(t){delete a[t.keyCode],l.moving=!1}));var F=function(){function i(){t(this,i),this.width=40,this.height=56,this.fx=0,this.x=Math.random()*h.width-this.width,this.y=Math.random()*h.height-this.height,this.speed=3*Math.random()+2,this.action=n[Math.floor(Math.random()*n.length)],"up"===this.action?(this.fy=3,this.minFrame=0,this.maxFrame=3):"right"===this.action?(this.fy=2,this.minFrame=0,this.maxFrame=3):"down"===this.action?(this.fy=0,this.minFrame=0,this.maxFrame=3):"left"===this.action&&(this.fy=1,this.minFrame=0,this.maxFrame=3)}return e(i,[{key:"drawIfrit",value:function(){p(u,this.width*this.fx,this.height*this.fy,this.width,this.height,this.x,this.y,1.5*this.width,1.5*this.height),M(l,this)&&(y=!0),this.fx<this.maxFrame?this.fx++:this.fx=this.minFrame}},{key:"updateIfritMovement",value:function(){"up"===this.action?this.y<0-5*this.height?(this.y=h.height+this.height,this.x=Math.random()*h.width,this.speed=3*Math.random()+2):this.y-=this.speed:"right"===this.action?this.x>h.width+5*this.width?(this.x=0-this.width,this.y=Math.random()*h.height,this.speed=3*Math.random()+2):this.x+=this.speed:"left"===this.action?this.x>h.width+5*this.width?(this.x=0+this.width,this.y=Math.random()*h.height,this.speed=3*Math.random()+2):this.x-=this.speed:"down"===this.action&&(this.y>h.height+5*this.height?(this.y=0-this.height,this.x=Math.random()*h.width,this.speed=3*Math.random()+2):this.y+=this.speed)}}]),i}();for(i=0;i<5;i++)d.push(new F);var v=function(){function i(){t(this,i),this.width=142,this.height=142,this.fx=0,this.x=Math.random()*h.width-this.width,this.y=Math.random()*h.height-this.height,this.speed=3*Math.random()+2,this.action=o[Math.floor(Math.random()*o.length)],"up"===this.action?(this.fy=3,this.minFrame=0,this.maxFrame=3):"right"===this.action?(this.fy=2,this.minFrame=0,this.maxFrame=3):"down"===this.action?(this.fy=0,this.minFrame=0,this.maxFrame=3):"left"===this.action&&(this.fy=1,this.minFrame=0,this.maxFrame=3)}return e(i,[{key:"drawDragon",value:function(){p(w,this.width*this.fx,this.height*this.fy,this.width,this.height,this.x,this.y,1.5*this.width,1.5*this.height),M(l,this)&&(y=!0),this.fx<this.maxFrame?this.fx++:this.fx=this.minFrame}},{key:"updateDragonMovement",value:function(){"up"===this.action?this.y<0-5*this.height?(this.y=h.height+this.height,this.x=Math.random()*h.width,this.speed=3*Math.random()+2):this.y-=this.speed:"right"===this.action?this.x>h.width+5*this.width?(this.x=0-this.width,this.y=Math.random()*h.height,this.speed=3*Math.random()+2):this.x+=this.speed:"left"===this.action?this.x>h.width+5*this.width?(this.x=0+this.width,this.y=Math.random()*h.height,this.speed=3*Math.random()+2):this.x-=this.speed:"down"===this.action&&(this.y>h.height+5*this.height?(this.y=0-this.height,this.x=Math.random()*h.width,this.speed=3*Math.random()+2):this.y+=this.speed)}}]),i}();for(i=0;i<3;i++)r.push(new v);var k=function(){function i(){t(this,i),this.width=50,this.height=48,this.fx=0,this.x=Math.random()*h.width-this.width,this.y=Math.random()*h.height-this.height,this.speed=3*Math.random()+2,this.action=m[Math.floor(Math.random()*m.length)],"up"===this.action?(this.fy=3,this.minFrame=0,this.maxFrame=3):"right"===this.action?(this.fy=2,this.minFrame=0,this.maxFrame=3):"down"===this.action?(this.fy=0,this.minFrame=0,this.maxFrame=3):"left"===this.action&&(this.fy=1,this.minFrame=0,this.maxFrame=3)}return e(i,[{key:"drawDeath",value:function(){p(c,this.width*this.fx,this.height*this.fy,this.width,this.height,this.x,this.y,1.5*this.width,1.5*this.height),M(l,this)&&(y=!0),this.fx<this.maxFrame?this.fx++:this.fx=this.minFrame}},{key:"updateDeathMovement",value:function(){"up"===this.action?this.y<0-5*this.height?(this.y=h.height+this.height,this.x=Math.random()*h.width,this.speed=3*Math.random()+2):this.y-=this.speed:"right"===this.action?this.x>h.width+5*this.width?(this.x=0-this.width,this.y=Math.random()*h.height,this.speed=3*Math.random()+2):this.x+=this.speed:"left"===this.action?this.x>h.width+5*this.width?(this.x=0+this.width,this.y=Math.random()*h.height,this.speed=3*Math.random()+2):this.x-=this.speed:"down"===this.action&&(this.y>h.height+5*this.height?(this.y=0-this.height,this.x=Math.random()*h.width,this.speed=3*Math.random()+2):this.y+=this.speed)}}]),i}();for(i=0;i<8;i++)f.push(new k)}))}();
//# sourceMappingURL=main.js.map